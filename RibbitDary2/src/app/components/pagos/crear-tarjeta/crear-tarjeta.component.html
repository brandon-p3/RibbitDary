<header>
  <app-navigation></app-navigation>
  <app-nav-nar-lat></app-nav-nar-lat>
</header>
<body class="body">
  <div class="form-container">
    <h2>{{ edit ? "Editar Tarjeta" : "Agregar Tarjeta" }}</h2>

    <form (ngSubmit)="guardarTarjeta()">
      <div class="form-group">
        <label for="numTarjeta">Número de Tarjeta:</label>
        <input
          type="text"
          id="numTarjeta"
          [(ngModel)]="tarjeta.numTarjeta"
          name="numTarjeta"
          required
          minlength="16"
          maxlength="16"
          pattern="[0-9]{16}"
          title="Debe contener 16 dígitos"
        />
      </div>

      <div class="form-group">
        <label for="cvv">CVV:</label>
        <input
          type="text"
          id="cvv"
          [(ngModel)]="tarjeta.cvv"
          name="cvv"
          required
          minlength="3"
          maxlength="3"
          pattern="[0-9]{3}"
          title="Debe contener 3 dígitos"
        />
      </div>

      <div class="form-group">
        <label for="direccion">Dirección:</label>
        <input
          type="text"
          id="direccion"
          [(ngModel)]="tarjeta.direccion"
          name="direccion"
          required
        />
      </div>
      
      <div class="form-group">
        <label for="titular">Titular:</label>
        <input
          type="text"
          id="titular"
          [(ngModel)]="tarjeta.titular"
          name="titular"
          required
        />
      </div>

      <div class="form-group">
        <label for="expiraMonth">Mes de Expiración:</label>
        <select id="expiraMonth" [(ngModel)]="tarjeta.expira_month" name="expiraMonth" required>
          <option *ngFor="let month of months" [value]="month">{{ month }}</option>
        </select>
      </div>

      <div class="form-group">
        <label for="expiraYear">Año de Expiración:</label>
        <select id="expiraYear" [(ngModel)]="tarjeta.expira_year" name="expiraYear" required>
          <option *ngFor="let year of years" [value]="year">{{ year }}</option>
        </select>
      </div>

      <div class="form-group">
        <label for="tipo">Tipo de Tarjeta:</label>
        <select id="tipo" [(ngModel)]="tarjeta.tipoTarjeta" name="tipo" required>
          <option value="debito">Débito</option>
          <option value="credito">Crédito</option>
        </select>
      </div>

      <div class="form-actions">
        <button type="submit">
          {{ edit ? "Actualizar Tarjeta" : "Agregar Tarjeta" }}
        </button>
        <button type="button" (click)="volver()">Cancelar</button>
      </div>
    </form>
  </div>
</body>
